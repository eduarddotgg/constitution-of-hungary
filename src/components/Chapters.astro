---
import { getCollection } from "astro:content";
import ChapterLink from "./ChapterLink.astro";

const chapters = (await getCollection('chapter')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);

const firstChapter = (await getCollection('chapter')).filter(item => item.slug.startsWith('1')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);

const secondChapter = (await getCollection('chapter')).filter(item => item.slug.startsWith('2')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
const thirdChapter = (await getCollection('chapter')).filter(item => item.slug.startsWith('3')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);

const fourthChapter = (await getCollection('chapter')).filter(item => item.slug.startsWith('4')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
---

<div class="py-144 min-h-680">

	<div class="flex flex-col gap-48">
		<div class="flex flex-col gap-24">
			<nav class="w-full max-w-680 mx-auto">
				<ul class="flex flex-col gap-24">
					{
						firstChapter.map((chapter) => (
							<li>
								<ChapterLink href={`/chapter/${chapter.slug}/`}>
									<span>{chapter.data.title}</span>
								</ChapterLink>
							</li>
						))
					}
				</ul>
			</nav>
		</div>

		<div class="flex flex-col gap-24">
			<nav class="w-full max-w-680 mx-auto">
				<ul class="flex flex-col gap-24">
					{
						secondChapter.map((chapter) => (
							<li>
								<ChapterLink href={`/chapter/${chapter.slug}/`}>
									<span>{chapter.data.title}</span>
								</ChapterLink>
							</li>
						))
					}
				</ul>
			</nav>
		</div>

		<div class="flex flex-col gap-12">
			<div class="w-full max-w-680 mx-auto">
				<h3 class="text-size-24 font-600 m-0">Az állam</h3>
			</div>

			<nav class="w-full max-w-680 mx-auto">
				<ul class="flex flex-col gap-12">
					{
						thirdChapter.map((chapter) => (
							<li>
								<ChapterLink href={`/chapter/${chapter.slug}/`}>
									<span>{chapter.data.title}</span>
								</ChapterLink>
							</li>
						))
					}
				</ul>
			</nav>
		</div>

		<div class="flex flex-col gap-12">
			<div class="w-full max-w-680 mx-auto">
				<h3 class="text-size-24 font-600 m-0">A különleges jogrend</h3>
			</div>

			<nav class="w-full max-w-680 mx-auto">
				<ul class="flex flex-col gap-12">
					{
						fourthChapter.map((chapter) => (
							<li>
								<ChapterLink href={`/chapter/${chapter.slug}/`}>
									<span>{chapter.data.title}</span>
								</ChapterLink>
							</li>
						))
					}
				</ul>
			</nav>
		</div>


		<!--<nav class="max-w-680 mx-auto">
			<ul class="flex flex-col gap-24">
				{
					chapters.map((chapter) => (
						<li>
							<ChapterLink href={`/chapter/${chapter.slug}/`}>
								<span>{chapter.data.title}</span>
							</ChapterLink>
						</li>
					))
				}
			</ul>
		</nav>-->
	</div>
</div>
